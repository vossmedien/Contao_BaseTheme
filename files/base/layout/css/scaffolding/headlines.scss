// Mixin für responsive Schriftgrößen (unverändert)
@mixin responsive-font-size($heading) {
  $sizes: map-get($headings-font-sizes, $heading);

  font-size: map-get($sizes, 'mobile');

  @include media-breakpoint-up(md) {
    font-size: map-get($sizes, 'tablet');
  }

  @include media-breakpoint-up(xl) {
    font-size: map-get($sizes, 'desktop');
  }
}

// Funktion zur Berechnung des Headline-Gaps (unverändert)
@function calculate-headline-gap($heading) {
  $desktop-size: map-get(map-get($headings-font-sizes, $heading), 'desktop');
  @return calc(var(--#{$prefix}headline-base-gap) * #{$desktop-size / 16px});
}

// Angepasste Funktion zur Berechnung des Abstands basierend auf der Schriftgröße
@function calculate-headline-spacing($heading) {
  $desktop-size: map-get(map-get($headings-font-sizes, $heading), 'desktop');
  @return calc(#{$desktop-size} * 0.7);
}

// Globale Überschriften-Stile
@each $heading, $sizes in $headings-font-sizes {
  #{$heading}, .#{$heading} {
    &:not(:has([class*="h"])) {
      @include responsive-font-size($heading);
      line-height: $headings-line-height;
      font-weight: var(--bs-#{$heading}-font-weight, $headings-font-weight);
      --current-headline-gap: #{calculate-headline-gap($heading)};
      --current-headline-spacing: #{calculate-headline-spacing($heading)};

      &:not(.ce--headline *) {
        margin-bottom: var(--current-headline-spacing);
        display: block;
      }
    }

  }
}

// Angepasste Headline-Klassen
.ce--headline {
  --#{$prefix}headline-base-gap: 0.175rem;
  gap: var(--current-headline-gap);
  display: flex;
  flex-flow: column wrap;
  margin-bottom: var(--current-headline-spacing);

  * {
    margin: 0 !important;
    max-width: 100%;
  }

  @each $heading in map-keys($headings-font-sizes) {
    &.hl-#{$heading} {
      --current-headline-gap: #{calculate-headline-gap($heading)};
      --current-headline-spacing: #{calculate-headline-spacing($heading)};
      margin-bottom: var(--current-headline-spacing);

      .ce--topline {
        margin-bottom: calc(var(--current-headline-gap) * 1.75);
      }

      .ce--subline {
        margin-top: var(--current-headline-gap);
      }

      @if $heading != 'h6' {
        $next-heading: nth(map-keys($headings-font-sizes), index(map-keys($headings-font-sizes), $heading) + 1);
        .ce--topline,
        .ce--subline {
          @include responsive-font-size($next-heading);
        }
      } @else {
        .ce--topline,
        .ce--subline {
          font-size: $font-size-base;
        }
      }
    }
  }
}

// Zusätzliche Stile (unverändert)
.container .ce--headline > .container {
  margin: 0;
}

[class*="text-white"] .ce--headline {
  --#{$prefix}headline-color: var(--#{$prefix}white);
}

// Mixin für Headline-Gewichte (unverändert)
@mixin headline-weights {
  @for $i from 1 through 6 {
    h#{$i}, .h#{$i} {
      &:not(:has([class*="h"])) {
        font-weight: var(--bs-h#{$i}-font-weight, $headings-font-weight);
      }
    }
  }
}

// Anwendung des Mixins (unverändert)
@include headline-weights;

// Responsive Anpassungen
@include media-breakpoint-down(md) {
  :root {
    @include font-size(14px);
  }

  .ce--headline {
    --#{$prefix}headline-base-gap: 0.125rem;

    @each $heading in map-keys($headings-font-sizes) {
      $heading-selector: '&.hl-#{$heading}, #{$heading}, .#{$heading}';
      #{$heading-selector} {
        --current-headline-spacing: calc(#{calculate-headline-spacing($heading)} * 0.8);
      }
    }
  }
}

.ce--subline {
  color: var(--bs-subline-color);
  font-weight: var(--bs-subline-font-weight);
}

.ce--topline {
  color: var(--bs-topline-color);
  font-weight: var(--bs-topline-font-weight);
}