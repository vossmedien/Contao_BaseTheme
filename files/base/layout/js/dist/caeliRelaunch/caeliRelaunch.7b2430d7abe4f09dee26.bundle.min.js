(()=>{"use strict";var e={21:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeAnchorLinks=l,t.changeNavLinksAfterLoad=d;var o=n(737);const i="#mainNav",r="#mobileNav",s=".onepagenavi--wrapper";const a=new class{constructor(){this.links=this.initializeLinks(),this.currentActive=null}initializeLinks(){return[...Array.from(document.querySelectorAll(`${i} a[href*="#"]:not(.invisible)`)),...Array.from(document.querySelectorAll(`${r} a[href*="#"]:not(.invisible)`)),...Array.from(document.querySelectorAll(`${s} a`)),...Array.from(document.querySelectorAll('#articleNav a[href^="#"]')),...Array.from(document.querySelectorAll('#stoerer-130-1 .article-nav-content a[href^="#"]'))]}setActiveLink(e){document.querySelectorAll("li.active, a.active").forEach((e=>{e.classList.remove("active"),"li"===e.tagName.toLowerCase()&&e.classList.add("sibling")})),this.links.forEach((t=>{if(t.getAttribute("href").endsWith(e)){t.classList.remove("sibling"),t.classList.add("active");const e=t.closest("li");e&&(e.classList.remove("sibling"),e.classList.add("active"))}}))}updateActiveSection(){const e=window.pageYOffset,t=window.innerHeight,n=document.documentElement.scrollHeight,i=(0,o.getCSSVariableValue)("--bs-scrolloffset");if(e+t>n-50){const e=this.findLastValidLink();if(e)return void this.setActiveLink(e.getAttribute("href"))}for(let t=this.links.length-1;t>=0;t--){const n=this.links[t].getAttribute("href"),o=n.split("#").pop(),r=document.getElementById(o);if(r){if(e>=r.getBoundingClientRect().top+window.pageYOffset-i-5)return void this.setActiveLink(n)}}}findLastValidLink(){for(let e=this.links.length-1;e>=0;e--){const t=this.links[e],n=t.getAttribute("href").split("#").pop();if(document.getElementById(n))return t}return null}handleInitialState(){const e=window.location.hash;if(e){const t=e.substring(1);document.getElementById(t)&&this.setActiveLink(e)}else{const e=this.links[0];if(e){const t=e.getAttribute("href"),n=t.split("#").pop();document.getElementById(n)&&this.setActiveLink(t)}}}};function l(){a.updateActiveSection()}function d(){a.handleInitialState()}window.changeAnchorLinks=l,window.changeNavLinksAfterLoad=d,document.addEventListener("DOMContentLoaded",(()=>{a.handleInitialState(),window.addEventListener("scroll",(()=>a.updateActiveSection()))})),document.addEventListener("articleNavGenerated",(()=>{a.links=a.initializeLinks(),a.handleInitialState()}))},65:(e,t,n)=>{var o=n(737),i=n(397),r=n(507),s=n(21),a=n(270);const l=[],d=[],c=[],u=[],h=[],m={form:document.querySelector(".ce_form form"),mobileNavElement:document.querySelector("#mobileNav"),triggerElement:document.querySelector('a[href="#mobileNav"]'),body:document.querySelector("body")},p=()=>{document.querySelectorAll(".swiper").forEach(((e,t)=>{e.swiper||new Swiper(e,{loop:!0,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}))};m.form&&m.form.addEventListener("submit",(e=>{}));u.push((()=>{const{mobileNavElement:e,triggerElement:t,body:n}=m;if(e&&t){const o=new MmenuLight(e),i=(o.navigation({theme:"dark"}),o.offcanvas({position:"right"}));t.addEventListener("click",(e=>{e.preventDefault(),n.classList.contains("mm-ocd-opened")?i.close():i.open()}));const r=e.querySelector(".mmenu-close-btn");r&&r.addEventListener("click",(e=>{e.preventDefault(),i.close()})),e.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(()=>{i.close()}))}))}}),(()=>{const e={breakpoint:768,rootMargin:"0px 0px -5% 0px"},t={rootMargin:"0px 0px 0px 0px"},n={class:"animate__animated",baseDelay:.05,increment:.1,reducedMotionClass:"fade-in-gentle"},o=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=new Set;let r,s="1s";const a=new Map,l=()=>{const l=window.innerWidth<=e.breakpoint?e.rootMargin:t.rootMargin;r=new IntersectionObserver((e=>{const t=e.filter((e=>{if(!e.isIntersecting)return!1;if(i.has(e.target))return!1;return e.target.getBoundingClientRect().height>1.5*window.innerHeight?e.intersectionRatio>0:e.intersectionRatio>=.1})).map((e=>e.target)).filter((e=>{const t=e.getAttribute("data-animation");return t&&"no-animation"!==t}));if(0===t.length)return;const l=new Map;t.forEach((e=>{const t=e.parentElement;l.has(t)||l.set(t,[]),l.get(t).push(e)})),l.forEach((e=>{e.forEach(((e,t)=>{const l=n.baseDelay+t*n.increment;setTimeout((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||i.has(e))return;const l=a.get(e),d=e.getAttribute("data-animation")||l?.animation;d&&"no-animation"!==d&&(i.add(e),r?.unobserve(e),o?e.classList.add(n.reducedMotionClass):(e.style.animationDuration=s,e.style.animationDelay=`${t}s`,requestAnimationFrame((()=>{e.classList.add(...d.split(" "),n.class)}))))}(e,l)),50*t)}))}))}),{threshold:[0,.1,.25],rootMargin:l})},d=()=>{r&&document.querySelectorAll("[data-animation]").forEach((e=>{const t=e.getAttribute("data-animation");t&&"no-animation"!==t&&!i.has(e)&&r.observe(e)}))},c=()=>{window.innerWidth<=e.breakpoint?e.rootMargin:t.rootMargin;r&&(r.disconnect(),l(),d())};let u;const m=()=>{clearTimeout(u),u=setTimeout(c,250)};try{(()=>{try{s=getComputedStyle(document.documentElement).getPropertyValue("--animate-duration").trim()||"1s"}catch(e){console.warn("Could not read --animate-duration, using default 1s.",e)}})(),document.querySelectorAll('[class*="animate__"]:not([data-animation])').forEach(((e,t)=>{if("no-animation"===e.getAttribute("data-animation"))return;const o=Array.from(e.classList).filter((e=>e.startsWith("animate__")&&e!==n.class));if(o.length>0){const i=o.join(" ");e.classList.remove(...o,n.class),e.setAttribute("data-animation",i),a.set(e,{animation:i,originalIndex:t})}})),o&&!n.reducedMotionClass||(l(),d(),(()=>{const e=h.findIndex((e=>"handleResize"===e.name));e>-1&&h.splice(e,1)})(),h.push(m))}catch(e){console.error("Animation initialization failed:",e)}return()=>{r?.disconnect(),a.clear(),i.clear();const e=h.findIndex((e=>e===m));e>-1&&h.splice(e,1)}}),(()=>{const e=document.querySelectorAll(".rotateImage");if(0===e.length)return;let t=window.pageYOffset,n=!1,o=null;const i=()=>{const o=window.pageYOffset;if(o===t)return void(n=!1);const i=o>t?.3:-.3;e.forEach((e=>{const t=e.getBoundingClientRect();t.bottom>=-100&&t.top<=window.innerHeight+100&&(e.rotation=(e.rotation||0)+i,e.style.transform=`rotate(${e.rotation}deg)`)})),t=Math.max(0,o),n=!1},r=()=>{n||(n=!0,requestAnimationFrame(i))},s=new IntersectionObserver((e=>{const t=e.some((e=>e.isIntersecting));t&&!o?(o=r,window.addEventListener("scroll",o,{passive:!0})):!t&&o&&(window.removeEventListener("scroll",o),o=null)}),{rootMargin:"50px",threshold:0});return e.forEach((e=>{e.rotation=0,s.observe(e)})),()=>{s.disconnect(),o&&window.removeEventListener("scroll",o)}}),(()=>{const e=document.querySelector(".mod_article:last-child"),t=document.querySelector(".mod_article:first-child");e?.querySelector("style.with-bg")&&(e.style.padding="var(--with-body-bg-spacing) 0 calc(var(--with-body-bg-spacing) * 2) 0",e.style.marginBottom="calc(-1 * var(--with-body-bg-spacing))"),t?.querySelector("style.with-bg")&&(t.style.padding="calc(var(--with-body-bg-spacing) * 2) 0 var(--with-body-bg-spacing) 0")}),(()=>{[...document.querySelectorAll('[data-bs-toggle="popover"]')].forEach((e=>{new bootstrap.Popover(e)}))}),(()=>{[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].forEach((e=>{new bootstrap.Tooltip(e)}))}),(()=>{const e=new URLSearchParams(window.location.search);for(const[t,n]of e){const e=document.querySelector(`input[name="${t}"]`);e&&(e.value=n)}}),(()=>{"undefined"!=typeof VenoBox&&((0,a.initVenoBox)(),(0,a.initVideoLightbox)(),(0,a.initImageLightbox)()),"undefined"!=typeof Swiper&&p()}),s.changeNavLinksAfterLoad,o.scrollToTop,i.setupFunctions,r.adjustPullElements),l.push(s.changeAnchorLinks);-1===h.findIndex((e=>"adjustPullElements"===e.name))&&h.push(r.adjustPullElements);const g=e=>{e.forEach((e=>{try{e()}catch(t){console.error(`Error executing function ${e.name||"anonymous"}:`,t)}}))};window.addEventListener("DOMContentLoaded",(()=>g(u))),window.addEventListener("load",(()=>g(d))),window.addEventListener("scroll",(()=>l.forEach((e=>{try{e()}catch(t){console.error(`Error in scroll func ${e.name}:`,t)}})))),window.addEventListener("touchmove",(()=>c.forEach((e=>{try{e()}catch(t){console.error(`Error in touchmove func ${e.name}:`,t)}})))),window.addEventListener("resize",(()=>h.forEach((e=>{try{e()}catch(t){console.error(`Error in resize func ${e.name}:`,t)}}))))},157:()=>{document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".footer-accordion-item .collapse").forEach((e=>{e.addEventListener("show.bs.collapse",(e=>{const t=e.target.previousElementSibling.querySelector(".indicator");t&&(t.textContent="-")})),e.addEventListener("hide.bs.collapse",(e=>{const t=e.target.previousElementSibling.querySelector(".indicator");t&&(t.textContent="+")}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".nav-button[aria-expanded]").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t);const n=this.nextElementSibling;n&&n.classList.contains("level_2-wrapper")&&n.classList.toggle("show")})),e.addEventListener("keydown",(function(e){if("Escape"===e.key&&"true"===this.getAttribute("aria-expanded")){this.setAttribute("aria-expanded","false");const e=this.nextElementSibling;e&&e.classList.contains("level_2-wrapper")&&e.classList.remove("show"),this.focus()}}))}));document.querySelectorAll(".nav-toggle[aria-expanded]").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!t);const n=this.getAttribute("aria-controls"),o=document.getElementById(n);o&&o.classList.toggle("show")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("header");if(!e)return;let t=0,n=!1,o=!1;window.addEventListener("scroll",(function(){!function(){const i=window.pageYOffset||document.documentElement.scrollTop;if(i<=0)return e.classList.remove("is-scrolling","is-scrolling-up"),t=0,n=!1,void(o=!1);if(o||(e.classList.add("is-scrolling"),o=!0),i<100)return void(t=i);const r=i-t;Math.abs(r)>=100&&(r>0&&n?(e.classList.remove("is-scrolling-up"),n=!1):r<0&&!n&&(e.classList.add("is-scrolling-up"),n=!0),t=i)}()}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("articleNav"),t=document.querySelector('.col-12.col-lg-7[data-animation="animate__fadeIn"]');let n=e?e.querySelector(".list-arrow"):null;const o=t?t.querySelectorAll("h2"):[];function i(e){e.stopPropagation(),e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t);if(n){const e=document.querySelector("header")?document.querySelector("header").offsetHeight:0,t=n.getBoundingClientRect().top+window.pageYOffset-e-20;window.scrollTo({top:t,behavior:"smooth"})}}const r=t=>{t&&0!==o.length?(t.innerHTML="",o.forEach(((e,n)=>{const o=e.textContent.trim(),i="anker-"+n+"-"+o.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9\-]/g,"");e.id||(e.id=i);const r=document.createElement("li"),s=document.createElement("a");s.href="#"+e.id,s.textContent=o,"H3"===e.tagName?r.classList.add("ms-2"):"H4"===e.tagName&&r.classList.add("ms-4"),r.appendChild(s),t.appendChild(r)})),e&&(e.style.display=""),t.querySelectorAll('a[href^="#"]').forEach((e=>{e.removeEventListener("click",i),e.addEventListener("click",i)}))):e&&(e.style.display="none")},s=document.querySelector('.col12.col-lg-5[data-animation="animate__fadeIn"] .article-info'),a=document.getElementById("articleNav"),l=document.querySelector(".is-fixed.content--element.ce_rsce_stoerer.js-stoerer-ready"),d=l?l.querySelector("#stoerer-130-0"):null;let c=null,u=!1;function h(){if(!s||!l)return;if(window.innerWidth<992){if(!u){if(s.style.display="none",l.querySelector("#stoerer-130-1")?c=l.querySelector("#stoerer-130-1"):(c=function(){let e="30px",t="30px";if(d){const n=d.querySelector(".stoerer-trigger svg.d-none.d-md-block");n&&n.style.width&&(e=n.style.width);const o=d.querySelector(".stoerer-trigger svg.d-block.d-md-none");o&&o.style.width&&(t=o.style.width)}const n=document.createElement("div");return n.id="stoerer-130-1",n.className="ce--stoerer is-expandable is-flush-right article-info-nav-stoerer",n.style.right="0px",n.style.setProperty("--stoerer-padding","10px"),n.style.zIndex="1",n.innerHTML=`\n          <div class="stoerer-inner-wrapper" data-animation="animate__fadeIn">\n            <div class="stoerer-trigger">\n                 <svg role="img" class="svg-image d-none d-md-block" style="width: ${e};" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" width="32" height="32" viewBox="0 0 416.979 416.979" xml:space="preserve">\n                     <g>\n                     \t<path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85   c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786   c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576   c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765   c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z" fill="#F3F3F3"/>\n                     </g>\n                 </svg>\n                 <svg role="img" class="svg-image d-block d-md-none" style="width: ${t};" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" width="32" height="32" viewBox="0 0 416.979 416.979" xml:space="preserve">\n                     <g>\n                     \t<path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85   c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786   c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576   c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765   c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z" fill="#F3F3F3"/>\n                     </g>\n                 </svg> \x3c!-- Info-Icon --\x3e\n            </div>\n            <div class="stoerer--content">\n              <div class="stoerer-content--inner">\n                <div class="article-info-content mb-1"> \n                  \x3c!-- Placeholder for article info --\x3e\n                </div>\n                <div class="article-nav-content">\n                  \x3c!-- Placeholder for article nav --\x3e \n                </div> \n              </div>\n            </div>\n          </div>\n        `,n}(),l.appendChild(c),l.dispatchEvent(new CustomEvent("stoererAdded",{bubbles:!0}))),c){const e=c.querySelector(".article-info-content"),t=c.querySelector(".article-nav-content");if(e&&s){const t=s.cloneNode(!0),n=t.querySelector("#articleNav");n&&n.remove(),e.innerHTML=t.innerHTML}if(t&&a){t.innerHTML="";const e=a.querySelector("strong");if(e)t.appendChild(e.cloneNode(!0));else{const e=document.createElement("strong");e.className="d-block mt-2 mb-1",e.textContent="Direkt zu:",t.appendChild(e)}const n=document.createElement("ul");n.className="list-arrow",t.appendChild(n),r(n),document.dispatchEvent(new CustomEvent("articleNavGenerated"))}}u=!0}}else u&&(s.style.display="",c&&(c.remove(),c=null),n&&r(n),u=!1)}if(t&&o.length>0?n&&(r(n),document.dispatchEvent(new CustomEvent("articleNavGenerated"))):e&&(e.style.display="none"),s&&l){let e;h(),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout(h,150)}))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("mainNav");function t(e){const t=e.getBoundingClientRect();return{left:t.left+window.scrollX,width:t.width}}function n(){if(!e)return;const n=t(e),o=(i=e,window.getComputedStyle(i),i.offsetWidth);var i;const r=n.left;document.querySelectorAll("#mainNav .level_2").forEach((function(e){e.style.width=o+"px";const n=e.closest(".level_2-wrapper");if(n){const o=t(n).left,i=r-o;e.style.marginLeft=i+"px"}}))}let o;n(),window.addEventListener("resize",(function(){clearTimeout(o),o=setTimeout(n,100)})),window.addEventListener("load",n),document.fonts.ready.then(n)})),document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".BodyScrollToTop");if(!e){e=document.createElement("div"),e.className="BodyScrollToTop";const t=document.createElement("div");t.className="progress-ring-holder";const n=document.createElement("div");n.className="progress-ring";const o=document.createElement("div");o.className="arrow-holder",t.appendChild(n),e.appendChild(t),e.appendChild(o),document.body.appendChild(e),e.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}))}function t(){const t=window.pageYOffset||document.documentElement.scrollTop,n=t/(document.documentElement.scrollHeight-document.documentElement.clientHeight);document.documentElement.style.setProperty("--scroll-progress",n),t>300?(e.style.opacity="1",e.style.visibility="visible"):(e.style.opacity="0",e.style.visibility="hidden")}let n=!1;window.addEventListener("scroll",(function(){n||(window.requestAnimationFrame(t),n=!0),n=!1}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".ce_form").forEach((e=>{const t=e.querySelector("form");if(!t)return;const n=t.querySelector(".agb_checkbox"),o=t.querySelector(".agb_notice");if(!n||!o)return;const i=n.querySelector('input[type="checkbox"][name="agb_akzeptiert"]'),r=n.querySelector('input[type="hidden"][name="agb_akzeptiert"]'),s=t.querySelector('button[type="submit"]');n.classList.add("d-none"),o.classList.add("d-none"),i&&(i.required=!1,i.disabled=!0),r&&(r.value="");let a=null,l=null;function d(e){if(!n||!o)return;const t=n.querySelector("fieldset.checkbox_container");e?(n.classList.add("d-none"),n.classList.remove("d-block","mandatory"),t&&t.classList.remove("mandatory"),i&&(i.required=!1,i.disabled=!0),r&&i&&(r.value=i.value),o.classList.remove("d-block"),o.classList.add("d-none")):(n.classList.remove("d-none"),n.classList.add("d-block","mandatory"),t&&t.classList.add("mandatory"),i&&(i.required=!0,i.disabled=!1),r&&(r.value=""),o.classList.remove("d-block"),o.classList.add("d-none"))}l=setInterval((function(){return l&&clearInterval(l),void(!1!==a&&(d(!1),a=!1))}),100),s&&s.addEventListener("click",(function(){t.checkValidity(),0}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".enterFlaechencheck").forEach((e=>{const t=e.querySelector("#zipCodeInput, .zipCodeInput"),n=e.querySelector("#zipCodeSubmit, .zipCodeSubmit");let o=e.querySelector("#messageContainer, .messageContainer");function i(){o&&(o.innerHTML="")}o||(o=document.createElement("div"),o.className="messageContainer",e.insertBefore(o,e.firstChild)),t&&n&&(n.addEventListener("click",(function(){i();const e=t.value.trim();if(e){const t=window.caeliLang?.areaCheckUrl||"/flaechencheck";window.location.href=t+"?search="+encodeURIComponent(e)}else{!function(e){if(o){const t=`\n          <div class="alert alert-${arguments.length>1&&void 0!==arguments[1]?arguments[1]:"primary"} small p-2 border-0 fade mt-0 mb-0 show" role="alert">\n            ${e}\n          </div>`;o.innerHTML=t}}(window.caeliLang?.zipSearchError||"Bitte geben Sie eine PLZ oder einen Ort ein.","primary")}})),t.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),n.click())})),t.addEventListener("input",(function(){""!==t.value.trim()&&i()})))}))})),document.addEventListener("DOMContentLoaded",(function(){function e(){const e=window.location.hash;if(e){const t=e.substring(1),n=document.getElementById(t);if(n&&n.classList.contains("modal"))try{new bootstrap.Modal(n).show()}catch(e){console.warn("Modal konnte nicht geöffnet werden:",t,e)}}}e(),window.addEventListener("hashchange",e);const t=document.querySelectorAll('a[href$="#pachtrechnerModal"]'),n=document.getElementById("pachtrechnerModal");if(n){const e=new bootstrap.Modal(n);t.forEach((t=>{t.addEventListener("click",(function(t){t.preventDefault(),e.show()}))}))}document.querySelectorAll('a[href^="#"]').forEach((e=>{const t=e.getAttribute("href");if(t&&t.length>1){const n=t.substring(1),o=document.getElementById(n);o&&o.classList.contains("modal")&&e.addEventListener("click",(function(e){e.preventDefault();try{new bootstrap.Modal(o).show(),history.pushState(null,null,t)}catch(e){console.warn("Modal konnte nicht geöffnet werden:",n,e)}}))}})),document.querySelectorAll(".modal").forEach((e=>{e.addEventListener("hidden.bs.modal",(function(){window.location.hash==="#"+e.id&&history.pushState(null,null,window.location.pathname+window.location.search)}))}))})),document.addEventListener("DOMContentLoaded",(function(){function e(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(isNaN(e))return"Eingabe ist keine Zahl!";let o=Math.floor(Math.abs(e)).toString(),i="";if(1===t){const t=String(e),n=t.indexOf(".");i=-1!==n?t.slice(n+1):"0"}let r="";for(let e=o.length-1,t=0;e>=0;e--,t++)t>0&&t%3==0&&(r=n+r),r=o[e]+r;switch(e<0&&(r="-"+r),t){case 1:r+=","+i;break;case 2:r+=",00";break;case 3:r+=",-";break;case 4:r+=",--"}return r}document.querySelectorAll(".pachtrechner-instance").forEach((t=>{let n,o;const i=t.querySelector(".js-pachtrechner-form"),r=t.querySelector(".js-pachtrechner-ergebnis");if(t.classList.contains("js-pachtrechner-form")){n=t;let e=t.nextElementSibling;for(;e;){if(e.classList.contains("js-pachtrechner-ergebnis")){o=e;break}e=e.nextElementSibling}}else if(t.classList.contains("js-pachtrechner-ergebnis")){o=t;let e=t.previousElementSibling;for(;e;){if(e.classList.contains("js-pachtrechner-form")){n=e;break}e=e.previousElementSibling}}else i&&r&&(n=i,o=r);if(!n||!o)return void console.warn("Pachtrechner-Formular oder Ergebnis-Container konnte nicht eindeutig für die Instanz gefunden werden:",t);const s=n.querySelector(".js-pachtrechner-ha-input"),a=n.querySelector(".js-reset-ha-button"),l=n.querySelector(".js-pachtrechner-check-btn"),d=n.querySelector(".js-pachtrechner-input-error"),c=o.querySelector(".js-size-ha"),u=o.querySelector(".js-jahres-pacht"),h=o.querySelector(".js-bar-range-start"),m=o.querySelector(".js-bar-range-end"),p=o.querySelector(".js-bar-range-percent"),g=document.querySelectorAll('[id^="calculator_img_text_tipp_"]').length;if(g>0){const e=Math.floor(Math.random()*g)+1,t=document.getElementById("calculator_img_text_tipp_"+e);t&&t.classList.remove("d-none")}const f=document.querySelectorAll('[id^="calculator_img_text_top_"]').length;let v;f>0&&(v=Math.floor(Math.random()*f)+1),document.querySelectorAll("a.pachtrechner").forEach((function(e){e.addEventListener("click",(function(){"#pachtrechner"===window.location.hash&&window.location.reload()}))})),a&&a.addEventListener("click",(function(){if(o&&o.classList.add("d-none"),n&&n.classList.remove("d-none"),f>0){const e=document.getElementById("calculator_img_text_top_"+v);e&&e.classList.add("d-none")}})),l&&l.addEventListener("click",(function(){if(!s)return;const t=parseFloat(s.value);if(t>0&&t<=999999){d&&d.classList.add("d-none");const i=8674*t,r=4251*t,s=14667*t;if(c&&(c.textContent=t.toString()),u&&(u.textContent=e(i,0,".")),h&&(h.textContent=e(r,0,".")),m&&(m.textContent=e(s,0,".")),o&&o.classList.remove("d-none"),n&&n.classList.add("d-none"),o){const e=document.querySelector("header")?document.querySelector("header").offsetHeight:0,t=o.getBoundingClientRect().top+window.pageYOffset-e-20;window.scrollTo({top:t,behavior:"smooth"})}if(p){const e=100*i/s;setTimeout((function(){p.style.width=e+"%",p.setAttribute("aria-valuenow",e.toString())}),50)}if(f>0){const e=document.getElementById("calculator_img_text_top_"+v);e&&e.classList.remove("d-none")}}else s&&(s.value=""),d&&d.classList.remove("d-none")})),s&&(s.addEventListener("keyup",(function(e){"Enter"===e.key&&(e.preventDefault(),l&&l.click())})),s.addEventListener("input",(function(){d&&!d.classList.contains("d-none")&&d.classList.add("d-none")})))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("meinungsumfrage");if(!e)return;e.querySelector(".formbody");const t=Array.from(e.querySelectorAll(".widget-radio")),n=e.querySelector(".widget-textarea"),o=e.querySelector(".widget-submit"),i=e.querySelector(".back-btn .btn"),r=e.querySelector(".alert.alert-primary.text-center");let s=0;function a(){const t=e.querySelector(".formbody .back-btn");t&&(t.style.display="none"),r&&(r.style.display="block"),setTimeout((()=>{e.submit()}),1500)}t.forEach(((e,t)=>{t>0&&(e.style.display="none")})),n&&(n.style.display="none"),o&&(o.style.display="none"),i&&(i.style.display="none"),r&&(r.style.display="none"),t.forEach(((e,r)=>{Array.from(e.querySelectorAll('input[type="radio"]')).forEach((e=>{e.addEventListener("change",(()=>{!function(e,r){s=e,t[e]&&(t[e].style.display="none");const l=e+1;if(0===e){if("Nein"===r){if(n&&(n.style.display="block"),o){o.style.display="block";const e=o.querySelector('button[type="submit"]');e&&!e.dataset.listenerAttached&&(e.addEventListener("click",(e=>{e.preventDefault(),a()})),e.dataset.listenerAttached="true")}i&&(i.style.display="inline-block"),s=-1;for(let e=l;e<t.length;e++)t[e]&&(t[e].style.display="none");return}n&&(n.style.display="none"),o&&(o.style.display="none")}if(l<t.length)t[l]&&(t[l].style.display="block",s=l,i&&(i.style.display="inline-block"));else{n&&"block"===n.style.display||a()}}(r,e.value)}))}))})),i&&i.addEventListener("click",(()=>{!function(){let e=null;if(-1===s)n&&(n.style.display="none"),o&&(o.style.display="none"),t[0]&&(t[0].style.display="block",e=t[0]),s=0,i&&(i.style.display="none");else if(s>0){t[s]&&(t[s].style.display="none");const r=s-1;t[r]&&(t[r].style.display="block",e=t[r],s=r,0===r?i&&(i.style.display="none"):i&&(i.style.display="block")),n&&"block"===n.style.display&&(n.style.display="none"),o&&"block"===o.style.display&&(o.style.display="none")}if(e){e.querySelectorAll('input[type="radio"]').forEach((e=>{e.checked=!1}))}}()}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".mod_changelanguage");if(!e)return;const t=window.location.pathname.match(/\/(en\/)?(?:marketplace|marktplatz)\/details\/(\d+)$/);if(t){const n=t[2];e.querySelectorAll('a[href*="/details"]').forEach((e=>{const t=e.getAttribute("href");t.endsWith("/details")&&e.setAttribute("href",t+"/"+n)}))}})),window.location.search.includes("contact=1")&&(window.history.replaceState({},document.title,"/#contact"),document.getElementById("contact")?.scrollIntoView())},270:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initImageLightbox=function(){if("undefined"==typeof VenoBox)return void console.log("VenoBox nicht verfügbar - Image-Lightbox wird übersprungen");const e=o.map((e=>`a[href$=".${e}"]`)).join(",");document.querySelectorAll(e).forEach((e=>{}))},t.initVenoBox=function(){if("undefined"==typeof VenoBox)return void console.log("VenoBox nicht verfügbar - keine .venobox Elemente gefunden oder Bibliothek nicht geladen");const e=[...n,...o].map((e=>`a[href$=".${e}"]`)).join(",");new VenoBox({selector:e,infinigall:!0,maxWidth:"80%",numeration:!0,spinner:"flow",initialScale:.9,transitionSpeed:200,fitView:!1})},t.initVideoLightbox=function(){if("undefined"==typeof VenoBox)return void console.log("VenoBox nicht verfügbar - Video-Lightbox wird übersprungen");const e=n.map((e=>`a[href$=".${e}"]`)).join(",");document.querySelectorAll(e).forEach((e=>{e.setAttribute("data-autoplay","true"),e.setAttribute("data-vbtype","video");!function(e,t){const n=document.createElement("video");n.onloadedmetadata=function(){const e=this.videoWidth,n=this.videoHeight,o=e/n,i={"1x1":1,"4x3":4/3,"16x9":16/9,"21x9":21/9,"9x16":9/16,"3x4":3/4};let r="custom",s=1/0;for(const[e,t]of Object.entries(i)){const n=Math.abs(o-t);n<s&&(s=n,r=e)}if(s>.1){r="custom";const o=(n/e*100).toFixed(2)+"%";t(r,o,`calc(min(var(--vbox-max-width), (100vh - 60px) * ${e} / ${n}))`)}else t(r)},n.onerror=function(){console.error("Error loading video metadata"),t("16x9")},n.src=e}(e.getAttribute("href"),((t,n,o)=>{e.setAttribute("data-ratio",t),"custom"===t&&(e.style.setProperty("--custom-aspect-ratio",n),e.style.setProperty("--custom-max-width",o))}))}))};let n=["mp4","webm","ogg","mov","avi","wmv","flv","m4v"],o=["jpg","jpeg","png","gif","webp","svg","bmp","tiff"]},397:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resetCookies=function(){const e=document.documentElement.lang||"de";let t="This will delete all cookies and reload the page, continue?";"de"===e?t="Dadurch werden alle Cookies gelöscht und die Seite wird neu geladen, fortfahren?":"en"===e&&(t="This will delete all cookies and reload the page, continue?");if(confirm(t)){window.localStorage.clear();document.cookie.split(";").forEach((e=>{document.cookie=e.trim().split("=")[0]+"=;expires="+(new Date).toUTCString()+";path=/"})),window.location.reload()}},t.setupFunctions=function(){(function(){if(document.cookie.includes("cookie_iframes")){const e=document.querySelectorAll("*[data-source]"),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=n.getAttribute("data-source");if(n.src=o,"script"===n.tagName.toLowerCase()){const e=document.createElement("script");e.src=o,n.parentNode.replaceChild(e,n)}t.unobserve(n)}}))}),{root:null,rootMargin:"200px 0px 0px 0px",threshold:0});e.forEach((e=>{t.observe(e)}))}else{document.querySelectorAll("*[data-source]").forEach((e=>{"script"!==e.tagName.toLowerCase()&&(e.src="iframe.php")}))}})(),document.cookie.includes("cookie_basefeatures"),function(){if(document.cookie.includes("cookie_basefeatures")){document.querySelectorAll("script[data-external-source]").forEach((e=>{const t=e.getAttribute("data-external-source"),n=document.createElement("script");n.src=t,Array.from(e.attributes).forEach((e=>{"data-external-source"!==e.name&&n.setAttribute(e.name,e.value)})),e.parentNode.replaceChild(n,e)}))}}()}},460:()=>{class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.options={root:null,rootMargin:this.isMobile?"50px 0px":"100px 0px",threshold:this.isMobile?.15:.25,excludeSelectors:[],spinnerEnabled:!0,timeout:6e3,maxSimultaneousLoads:this.isMobile?2:4,...e},this.loadedElements=new Set,this.loadingVideos=new Map,this.imageObserver=null,this.videoObserver=null,this.mutationObserver=null,this.viewportCache={width:0,height:0,lastUpdate:0},this.bestVideoFormat=null,this.debug=!1,window.VSM&&window.VSM.lazyLoader)return console.warn("VSMLazyLoader bereits initialisiert!"),window.VSM.lazyLoader;this._initialize();const t=new CustomEvent("vsm:lazyLoaderInit",{detail:{lazyLoader:this}});document.dispatchEvent(t)}_initialize(){this.bestVideoFormat=this.determineBestVideoFormat(),"loading"===document.readyState?window.addEventListener("DOMContentLoaded",(()=>this.init())):this.init(),setTimeout((()=>{this.videoObserver&&this.imageObserver||(console.warn("Observer nicht initialisiert, versuche erneut..."),this.init())}),2e3)}init(){if(!document.body)return console.warn("Document body noch nicht bereit, warte..."),void window.addEventListener("DOMContentLoaded",(()=>this.init()));try{if("IntersectionObserver"in window){if(this.setupImageObserver(),this.setupVideoObserver(),this.setupMutationObserver(),this.isMobile||this.setupScrollListeners(),!this.videoObserver||!this.imageObserver)return void console.error("Observer konnten nicht initialisiert werden");this.observeElements(),this.isMobile||setInterval((()=>this.checkLostElements()),15e3)}else console.warn("IntersectionObserver nicht verfügbar, verwende Fallback"),this.loadAllMediaDirectly()}catch(e){console.error("Fehler bei der Initialisierung:",e)}}updateViewportCache(){const e=Date.now();e-this.viewportCache.lastUpdate>100&&(this.viewportCache.width=window.innerWidth||document.documentElement.clientWidth,this.viewportCache.height=window.innerHeight||document.documentElement.clientHeight,this.viewportCache.lastUpdate=e)}checkUnobservedVideos(){document.querySelectorAll("video.lazy, video[data-poster]").forEach((e=>{Array.from(e.querySelectorAll("source")).some((e=>e.hasAttribute("src")&&!e.hasAttribute("data-src")))?e.classList.contains("loaded")||(e.classList.add("loaded"),this.loadedElements.add(e)):this.loadedElements.has(e)||this.loadingVideos.has(e)||e.classList.contains("loading")||e.classList.contains("loaded")||(this.handleNewElement(e),this.isInViewport(e)&&this.loadVideo(e))}))}setupImageObserver(){this.imageObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!this.loadedElements.has(e.target)&&this.shouldHandleElement(e.target)&&(e.target.hasAttribute("data-bg")?this.loadBackgroundImage(e.target):e.target.hasAttribute("data-src")&&this.loadImage(e.target),this.imageObserver.unobserve(e.target))}))}),{root:null,rootMargin:this.options.rootMargin,threshold:this.options.threshold}),document.querySelectorAll(".scroll-wrapper").forEach((e=>{const t=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!this.loadedElements.has(e.target)&&this.shouldHandleElement(e.target)&&(e.target.hasAttribute("data-bg")?this.loadBackgroundImage(e.target):e.target.hasAttribute("data-src")&&this.loadImage(e.target),t.unobserve(e.target))}))}),{root:e,rootMargin:"100px 0px",threshold:.1});e.querySelectorAll("[data-src], [data-bg]").forEach((e=>{e.classList.contains("loaded")||t.observe(e)}))}))}setupVideoObserver(){this.videoObserver=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target;this.loadedElements.has(t)||t.classList.contains("loaded")?e.isIntersecting&&t.paused&&t.hasAttribute("autoplay")?t.play().catch((e=>this.log("Autoplay error:",e))):!e.isIntersecting&&t.hasAttribute("autoplay")&&(t.pause(),this.isMobile&&this.unloadVideo(t)):e.isIntersecting?e.intersectionRatio>=this.options.threshold&&!t.classList.contains("loaded")&&!t.classList.contains("loading")?this.loadVideo(t):t.paused&&t.hasAttribute("autoplay")&&t.play().catch((e=>this.log("Autoplay error:",e))):this.loadingVideos.has(t)?(this.log("Video rolled out of viewport, cancelling load:",t),this.cancelVideoLoad(t)):this.isMobile&&t.classList.contains("loaded")&&this.unloadVideo(t)}))}),{root:null,rootMargin:this.options.rootMargin,threshold:[0,this.options.threshold,.5,1]})}unloadVideo(e){if(!this.isMobile)return;e.pause(),e.currentTime=0,this.loadingVideos.has(e)&&(this.loadingVideos.delete(e),this.removeSpinner(e));const t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e),e=t,this.loadedElements.delete(e),e.removeAttribute("src"),e.load(),e.hasAttribute("poster")&&(e.setAttribute("data-poster",e.getAttribute("poster")),e.removeAttribute("poster")),e.querySelectorAll("source").forEach((e=>{const t=e.getAttribute("src");t&&(e.setAttribute("data-src",t),e.removeAttribute("src"))}));const n=e.getAttribute("data-original-src");n&&e.setAttribute("data-src",n),e.classList.remove("loading","loaded"),e.classList.add("lazy")}setupScrollListeners(){if(this.isMobile)return;let e;window.addEventListener("scroll",(()=>{e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame((()=>{this.updateViewportCache(),this.checkVisibleElements()}))}),{passive:!0}),document.querySelectorAll(".scroll-wrapper").forEach((e=>{e.addEventListener("scroll",this.debounce((()=>{this.checkVisibleElements(e)}),150),{passive:!0})}))}setupMutationObserver(){this.mutationObserver=new MutationObserver((e=>{const t=[];e.forEach((e=>{e.addedNodes.length&&e.addedNodes.forEach((e=>{if(1===e.nodeType&&this.shouldHandleElement(e)&&(t.push(e),e.querySelectorAll)){e.querySelectorAll("[data-src], [data-bg], video.lazy").forEach((e=>{this.shouldHandleElement(e)&&t.push(e)}))}}))})),t.length>0&&requestAnimationFrame((()=>{t.forEach((e=>this.handleNewElement(e)))}))}));try{this.mutationObserver.observe(document.body,{childList:!0,subtree:!0,attributes:!1})}catch(e){console.warn("MutationObserver konnte nicht initialisiert werden:",e)}}checkVisibleElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(this.isMobile)return;e.querySelectorAll("[data-src]:not(.loaded), [data-bg]:not(.loaded), video.lazy:not(.loaded)").forEach((e=>{!this.loadedElements.has(e)&&this.isInViewport(e)&&(e.hasAttribute("data-bg")?this.loadBackgroundImage(e):"video"===e.tagName.toLowerCase()?this.loadVideo(e):this.loadImage(e))}))}checkLostElements(){this.isMobile||document.querySelectorAll("[data-src]:not(.loaded), video.lazy:not(.loaded)").forEach((e=>{!this.loadedElements.has(e)&&this.isInViewport(e)&&(e.hasAttribute("data-bg")?this.loadBackgroundImage(e):"video"===e.tagName.toLowerCase()?this.loadVideo(e):this.loadImage(e))}))}isInViewport(e){this.updateViewportCache();const t=e.getBoundingClientRect(),n=this.viewportCache.height,o=this.viewportCache.width,i=Math.min(t.bottom,n)-Math.max(t.top,0),r=Math.min(t.right,o)-Math.max(t.left,0);if(i<=0||r<=0)return!1;const s=i*r,a=t.height*t.width;return(a>0?s/a*100:0)>=(this.isMobile?15:25)}handleNewElement(e){if(this.shouldHandleElement(e)&&!(this.loadedElements.has(e)||e.classList.contains("loaded")||e.classList.contains("loading")))if(this.options.spinnerEnabled&&this.handleSpinner(e),this.videoObserver&&this.imageObserver||(this.videoObserver||this.setupVideoObserver(),this.imageObserver||this.setupImageObserver(),this.videoObserver&&this.imageObserver))if(e.hasAttribute("data-bg"))this.imageObserver.observe(e);else if("video"===e.tagName.toLowerCase()){if(Array.from(e.querySelectorAll("source")).some((e=>e.hasAttribute("src")&&!e.hasAttribute("data-src"))))return e.classList.contains("loaded")||(e.classList.add("loaded"),this.loadedElements.add(e)),void(e.hasAttribute("autoplay")&&this.isInViewport(e)&&e.play().catch((()=>{e.muted=!0,e.play().catch(console.warn)})));(e.classList.contains("lazy")||e.hasAttribute("data-src")||e.hasAttribute("data-poster")||e.querySelectorAll("source[data-src]").length>0)&&(this.videoObserver?this.videoObserver.observe(e):console.warn("Video Observer nicht verfügbar für:",e))}else if("source"===e.tagName.toLowerCase()&&"video"===e.parentElement.tagName.toLowerCase()){const t=e.parentElement;t.classList.contains("lazy")&&!this.loadedElements.has(t)&&this.videoObserver&&this.videoObserver.observe(t)}else"img"===e.tagName.toLowerCase()&&e.hasAttribute("data-src")&&this.imageObserver.observe(e);else console.error("Observer konnte nicht initialisiert werden")}shouldHandleElement(e){return!this.options.excludeSelectors.some((t=>e.matches(t)||e.closest(t)))}createSpinner(){const e=document.createElement("div");return e.className="lazy-loader-spinner",e}handleSpinner(e){e.parentElement&&(e.classList.contains("cms-html-video-container")||e.classList.contains("content-media")||"video"===e.tagName.toLowerCase()||e.parentElement.classList.contains("video-wrapper"))&&!e.querySelector(".lazy-loader-spinner")&&this.addSpinner(e)}addSpinner(e){if(!this.options.spinnerEnabled)return;e.querySelectorAll(".lazy-loader-spinner").forEach((e=>e.remove())),e.appendChild(this.createSpinner())}removeSpinner(e){[e.closest(".content-media")?.querySelector(".lazy-loader-spinner"),e.parentElement?.querySelector(".lazy-loader-spinner"),e.querySelector(".lazy-loader-spinner"),e.nextElementSibling?.classList.contains("lazy-loader-spinner")?e.nextElementSibling:null].filter(Boolean).forEach((e=>{e&&e.parentElement&&e.parentElement.removeChild(e)}))}loadBackgroundImage(e){return this.loadedElements.has(e)?Promise.resolve():new Promise(((t,n)=>{const o=e.getAttribute("data-bg");if(!o)return void n("Kein data-bg Attribut gefunden");const i=new Image;i.onload=()=>{e.style.backgroundImage=`url('${o}')`,e.classList.add("loaded"),e.removeAttribute("data-bg"),this.loadedElements.add(e),this.removeSpinner(e),t()},i.onerror=t=>{console.error("Fehler beim Laden des Hintergrundbildes:",t),this.removeSpinner(e),n(t)},this.options.spinnerEnabled&&this.handleSpinner(e),i.src=o,setTimeout((()=>{this.loadedElements.has(e)||(e.style.backgroundImage=`url('${o}')`,e.classList.add("loaded"),this.loadedElements.add(e),this.removeSpinner(e),t())}),this.options.timeout)}))}loadImage(e){return this.loadedElements.has(e)?Promise.resolve():new Promise(((t,n)=>{const o=()=>{e.classList.add("loaded"),this.loadedElements.add(e),this.removeSpinner(e),t()},i=t=>{console.error("Fehler beim Laden des Bildes:",t),this.removeSpinner(e),n(t)};if(e.closest("picture")){e.closest("picture").querySelectorAll("source[data-srcset]").forEach((e=>{e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset"))}))}e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset")),e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src")),e.complete?o():(e.addEventListener("load",o,{once:!0}),e.addEventListener("error",i,{once:!0}),setTimeout((()=>{this.loadedElements.has(e)||o()}),this.options.timeout))}))}loadVideo(e){if(this.loadedElements.has(e)||this.loadingVideos.has(e))return Promise.resolve();if(!this.isInViewport(e))return this.log("Video nicht im Viewport, lade nicht:",e),Promise.resolve();if(this.isMobile){if(document.querySelectorAll("video.loading").length>=this.options.maxSimultaneousLoads)return setTimeout((()=>this.loadVideo(e)),1e3),Promise.resolve()}const t=this.bestVideoFormat,n=[];e.querySelectorAll("source[data-src]").forEach((e=>{n.push({type:e.getAttribute("type"),src:e.getAttribute("data-src")})})),e.getAttribute("data-src")&&e.setAttribute("data-original-src",e.getAttribute("data-src"));const o=Math.random().toString(36).substr(2,9);return this.loadingVideos.set(e,{id:o,startTime:Date.now(),originalSources:n}),e.classList.add("loading"),this.log("Video wird geladen:",e),new Promise(((o,i)=>{for(e.setAttribute("playsinline",""),e.muted=!0,e.hasAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster"),e.removeAttribute("data-poster"));e.firstChild;)e.removeChild(e.firstChild);let r=null;for(const e of n){if((e.type||"").includes(t)){r=e;break}}if(!r&&n.length>0&&(r=n[0]),r){const t=document.createElement("source");t.src=r.src,t.type=r.type,e.appendChild(t),this.log(`Lade AUSSCHLIESSLICH ${r.type} Format:`,r.src);const s=()=>{this.removeSpinner(e),this.loadingVideos.delete(e),e.classList.remove("loading")},a=()=>{e.classList.add("loaded"),this.loadedElements.add(e),s(),e.hasAttribute("autoplay")&&this.isInViewport(e)&&e.play().catch((t=>{e.muted=!0,e.play().catch((e=>this.log("Autoplay error:",e)))})),o()},l=t=>{this.log("Video load error:",t),s();const o=n.filter((e=>e!==r));if(o.length>0&&e.parentNode){this.log("Versuche alternatives Format nach Fehler"),e.innerHTML="";const t=document.createElement("source");t.src=o[0].src,t.type=o[0].type,e.appendChild(t),e.load()}else i(t)};e.addEventListener("loadeddata",a,{once:!0}),e.addEventListener("error",l,{once:!0});const d=setTimeout((()=>{this.loadingVideos.has(e)&&(this.log("Video-Ladevorgang Timeout erreicht"),s())}),this.options.timeout),c=setInterval((()=>{this.loadingVideos.has(e)?this.isInViewport(e)||(this.log("Video nicht mehr im Viewport während des Ladens, breche ab"),clearInterval(c),this.cancelVideoLoad(e)):clearInterval(c)}),500);e.addEventListener("loadeddata",(()=>{clearTimeout(d),clearInterval(c)}),{once:!0}),e.addEventListener("error",(()=>{clearTimeout(d),clearInterval(c)}),{once:!0}),e.load()}else this.loadingVideos.delete(e),e.classList.remove("loading"),this.log("Keine Videoquelle gefunden"),o()}))}determineBestVideoFormat(){const e=document.createElement("video"),t=[{name:"webm",type:'video/webm; codecs="vp9, opus"',fallback:'video/webm; codecs="vp8, vorbis"'},{name:"mp4",type:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',fallback:'video/mp4; codecs="avc1.4D401E, mp4a.40.2"'},{name:"ogg",type:'video/ogg; codecs="theora, vorbis"'}];for(const n of t){if("probably"===e.canPlayType(n.type))return n.name;if(n.fallback){if("probably"===e.canPlayType(n.fallback))return n.name}}for(const n of t){if("maybe"===e.canPlayType(n.type))return n.name;if(n.fallback){if("maybe"===e.canPlayType(n.fallback))return n.name}}return"mp4"}cancelVideoLoad(e){if(!this.loadingVideos.has(e))return;this.log("Breche Videoladen ab für:",e);const t=this.loadingVideos.get(e).originalSources||[];for(this.loadingVideos.delete(e),e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);t.forEach((t=>{const n=document.createElement("source");n.setAttribute("data-src",t.src),t.type&&n.setAttribute("type",t.type),e.appendChild(n)})),e.load(),e.classList.remove("loading","loaded"),e.classList.contains("lazy")||e.classList.add("lazy"),this.removeSpinner(e)}showVideoFallback(e){this.removeSpinner(e),console.warn("Video konnte nicht geladen werden:",e)}observeElements(){document.querySelectorAll("[data-src], [data-bg], video.lazy, video[data-poster]").forEach((e=>{if("video"===e.tagName.toLowerCase()){if(Array.from(e.querySelectorAll("source")).some((e=>e.hasAttribute("src")&&!e.hasAttribute("data-src"))))return e.classList.contains("loaded")||(e.classList.add("loaded"),this.loadedElements.add(e)),void(e.hasAttribute("autoplay")&&this.isInViewport(e)&&e.play().catch((()=>{e.muted=!0,e.play().catch(console.warn)})))}!this.loadedElements.has(e)&&this.shouldHandleElement(e)&&(this.options.spinnerEnabled&&this.handleSpinner(e),"video"===e.tagName.toLowerCase()?this.videoObserver.observe(e):this.imageObserver.observe(e))}))}loadAllMediaDirectly(){document.querySelectorAll("[data-src], [data-bg], video.lazy, video[data-poster]").forEach((e=>{this.shouldHandleElement(e)&&(e.hasAttribute("data-bg")?this.loadBackgroundImage(e):"video"===e.tagName.toLowerCase()?this.loadVideo(e):this.loadImage(e))}))}destroy(){this.loadedElements.clear(),this.loadingVideos.clear(),this.imageObserver&&this.imageObserver.disconnect(),this.videoObserver&&this.videoObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),window.removeEventListener("scroll",this.scrollHandler),document.querySelectorAll(".scroll-wrapper").forEach((e=>{e.removeEventListener("scroll",this.debouncedCheck)})),this.scrollHandler=null,this.debouncedCheck=null}log(){this.debug&&console.log(...arguments)}debounce(e,t){let n;return function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];clearTimeout(n),n=setTimeout((()=>e.apply(this,i)),t)}}}window.VSM=window.VSM||{},window.VSM.lazyLoader=new e,window.VSM.lazyLoadInstance={update:()=>{}},document.addEventListener("vsm:videoLoaded",(function(e){window.VSM.lazyLoader&&e.detail.videoElement&&window.VSM.lazyLoader.handleNewElement(e.detail.videoElement)})),document.addEventListener("DOMContentLoaded",(function(){window.VSM&&window.VSM.lazyLoader?window.VSM.lazyLoader.checkUnobservedVideos():(window.VSM=window.VSM||{},window.VSM.lazyLoader=new e)}))},507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.adjustPullElements=function(){setTimeout((()=>{const e=document.querySelectorAll(".pull-bottom");parseInt(getComputedStyle(document.documentElement).getPropertyValue("--bs-mobile-max-width"));e.forEach((e=>{let t=function(e){let t=e.closest(".content--element");if(!t)return null;let n=t.parentElement.closest(".content--element");return n||t}(e);if(!t)return;let n=function(e){let t=e.nextElementSibling;for(;t&&!t.classList.contains("content--element");)t=t.nextElementSibling;return t}(t);if(n){let t=150;n.style.transform=`translateY(-${t}px)`,n.style.marginBottom=`calc(-${t}px + var(--main-gap))`,n.classList.add("pulled-up-element"),e.style.paddingBottom=`calc(var(--main-gap) + ${t}px)`}}))}),0)}},561:()=>{class e{constructor(){this.activeSliders=new Map,this.preloadDistance=1,this.isLoading=!1,this.loadQueue=new Set,this.init()}init(){"loading"!==document.readyState?(window.Swiper?this.extendSwiper():document.addEventListener("swiper:loaded",(()=>this.extendSwiper())),this.setupMutationObserver(),this.handleExistingSliders(),window.VSM&&window.VSM.lazyLoader?this.lazyLoader=window.VSM.lazyLoader:document.addEventListener("vsm:lazyLoaderInit",(e=>{this.lazyLoader=e.detail.lazyLoader}))):document.addEventListener("DOMContentLoaded",(()=>this.init()))}handleExistingSliders(){const e=document.querySelectorAll(".swiper");e.length>0&&requestAnimationFrame((()=>{e.forEach((e=>this.handleNewSlider(e)))}))}extendSwiper(){const e=Swiper.prototype.init;Swiper.prototype.init=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];const i=e.apply(this,n);return requestAnimationFrame((()=>{const e=new CustomEvent("swiper:init",{detail:{swiper:this}});let t;document.dispatchEvent(e),this.on("slideChange",(()=>{clearTimeout(t),t=setTimeout((()=>{const e=new CustomEvent("swiper:slideChange",{detail:{swiper:this}});document.dispatchEvent(e)}),100)}))})),i}}setupMutationObserver(){let e;new MutationObserver((t=>{clearTimeout(e),e=setTimeout((()=>{const e=new Set;t.forEach((t=>{t.addedNodes.forEach((t=>{if(1===t.nodeType){t.classList?.contains("swiper")&&e.add(t);const n=t.querySelectorAll?.(".swiper");n&&n.forEach((t=>e.add(t)))}}))})),e.size>0&&requestAnimationFrame((()=>{e.forEach((e=>this.handleNewSlider(e)))}))}),200)})).observe(document.body,{childList:!0,subtree:!0})}handleNewSlider(e){if(!this.activeSliders.has(e))if(this.activeSliders.set(e,{element:e,loadedSlides:new Set,lastActiveIndex:0}),e.swiper)this.preloadInitialSlides(e.swiper);else{let t=0;const n=setInterval((()=>{(e.swiper||t>20)&&(clearInterval(n),e.swiper&&this.preloadInitialSlides(e.swiper)),t++}),100)}}async preloadInitialSlides(e){if(e&&e.slides&&!this.isLoading){this.isLoading=!0;try{const t=e.activeIndex,n=e.slides.length,o=this.getSlidesToLoad(e,t,n);for(const e of o)await this.loadSlideMedia(e),await new Promise((e=>setTimeout(e,50)));const i=new CustomEvent("swiper:slidesPreloaded",{detail:{swiper:e,loadedCount:o.length}});document.dispatchEvent(i)}catch(e){console.warn("Fehler beim Vorladen der Slides:",e)}finally{this.isLoading=!1}}}getSlidesToLoad(e,t,n){const o=[];e.slides[t]&&o.push(e.slides[t]);const i=(t+1)%n;if(e.slides[i]&&i!==t&&o.push(e.slides[i]),e.params.loop||t>0){const r=t>0?t-1:n-1;e.slides[r]&&r!==t&&r!==i&&o.push(e.slides[r])}return o}async loadSlideMedia(e){if(!e||!window.VSM?.lazyLoader)return;const t=e.dataset.slideId||e.getAttribute("data-swiper-slide-index")||Array.from(e.parentNode.children).indexOf(e);if(!this.loadQueue.has(t)){this.loadQueue.add(t);try{const t=e.querySelectorAll("video[data-src], video.lazy"),n=e.querySelectorAll("img[data-src]"),o=[];t.forEach((e=>{e.classList.contains("loaded")||o.push(window.VSM.lazyLoader.loadVideo(e).catch((e=>(console.warn("Video load failed:",e),null))))})),n.forEach((e=>{e.classList.contains("loaded")||o.push(window.VSM.lazyLoader.loadImage(e).catch((e=>(console.warn("Image load failed:",e),null))))})),o.length>0&&await Promise.race([Promise.allSettled(o),new Promise((e=>setTimeout(e,3e3)))])}catch(e){console.warn("Fehler beim Laden der Slide-Medien:",e)}finally{this.loadQueue.delete(t)}}}destroy(){this.activeSliders.clear(),this.loadQueue.clear(),this.isLoading=!1,this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler),this.scrollHandler=null),this.debouncedCheck&&(document.querySelectorAll(".scroll-wrapper").forEach((e=>{e.removeEventListener("scroll",this.debouncedCheck)})),this.debouncedCheck=null)}loadSlideOnDemand(e,t){if(!e||!e.slides||this.isLoading)return;const n=e.slides[t];n&&requestAnimationFrame((()=>{this.loadSlideMedia(n)}))}}window.VSM=window.VSM||{},window.VSM.sliderMediaLoader||(window.VSM.sliderMediaLoader=new e),document.addEventListener("swiper:slideChange",(function(e){const t=e.detail.swiper;t&&window.VSM.sliderMediaLoader&&(clearTimeout(window.VSM.sliderMediaLoader.slideChangeTimeout),window.VSM.sliderMediaLoader.slideChangeTimeout=setTimeout((()=>{window.VSM.sliderMediaLoader.preloadInitialSlides(t)}),200))})),window.addEventListener("beforeunload",(()=>{window.VSM.sliderMediaLoader&&window.VSM.sliderMediaLoader.destroy()}))},571:()=>{window.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".header-content.fixed"),t=document.querySelector("#wrapper");function n(){if(e&&t){const n=window.getComputedStyle(e).height;t.style.paddingTop=n}}n(),window.addEventListener("resize",n),e&&window.addEventListener("scroll",(function(){window.scrollY>50?e.classList.add("is-scrolling"):e.classList.remove("is-scrolling")}))})),document.querySelectorAll(".modal").forEach((function(e){e&&(e.parentNode.removeChild(e),document.body.appendChild(e))})),function(){function e(){document.querySelectorAll(".btn-outline-currentColor, .btn-currentColor").forEach((e=>{const t=function(e){let t=e.parentElement;const n=["rgba(0, 0, 0, 0)","rgb(0, 0, 0)","transparent"];for(;t;){const e=window.getComputedStyle(t),o=e.backgroundColor,i=e.backgroundImage;if(o&&!n.includes(o)||i&&"none"!==i)return{element:t,backgroundColor:o,hasImage:"none"!==i};if(t=t.parentElement,!t||t===document.body){const e=window.getComputedStyle(document.body);return{element:document.body,backgroundColor:e.backgroundColor||"white",hasImage:"none"!==e.backgroundImage}}}return{element:document.body,backgroundColor:"white",hasImage:!1}}(e).backgroundColor,n=function(e){const t=e.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)|rgba\((\d+),\s*(\d+),\s*(\d+)/);if(!t)return"#000000";const n=parseInt(t[1]||t[4]),o=parseInt(t[2]||t[5]),i=parseInt(t[3]||t[6]);return(.299*n+.587*o+.114*i)/255>.5?"rgb(17, 54, 52)":"rgb(222, 238, 198)"}(t);(e.classList.contains("btn-currentColor")||e.classList.contains("btn-outline-currentColor"))&&(e.style.setProperty("--parent-bg-color",t),e.style.setProperty("--btn-context-color",n))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),window.addEventListener("load",e);new MutationObserver((t=>{t.some((e=>"childList"===e.type||"attributes"===e.type&&("class"===e.attributeName||"style"===e.attributeName)))&&e()})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]})}()},611:(e,t,n)=>{n(397);function o(e,t,n,o,i){let r=null;requestAnimationFrame((function s(a){r||(r=a);const l=a-r;let d=Math.min(l/3e3,1)*t;n>0?(d=parseFloat(d.toFixed(n)),e.textContent=i(d,1)+o):(d=Math.floor(d),e.textContent=i(d,0)+o),l<3e3?requestAnimationFrame(s):e.textContent=n>0?i(t,1)+o:i(Math.floor(t),0)+o}))}const i=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(!function(e){if(e.classList.contains("doneCounting"))return;function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(isNaN(e))return"Eingabe ist keine Zahl!";let o=Math.floor(Math.abs(e)).toString(),i="";if(1===t){const t=String(e),n=t.indexOf(".");i=-1!==n?t.slice(n+1):"0"}let r="";for(let e=o.length-1,t=0;e>=0;e--,t++)t>0&&t%3==0&&(r=n+r),r=o[e]+r;switch(e<0&&(r="-"+r),t){case 1:r+=","+i;break;case 2:r+=",00";break;case 3:r+=",-";break;case 4:r+=",--"}return r}e.classList.add("doneCounting");const n=[];!function e(t){if(3===t.nodeType)n.push(t);else for(let n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}(e),n.forEach((e=>{const n=e.nodeValue,i=/(\d{1,3}(?:\.\d{3})*(?:,\d+)?|\d+(?:,\d+)?)([^\d]*)/g;let r,s=0;const a=[];for(;null!==(r=i.exec(n));){r.index>s&&a.push(document.createTextNode(n.substring(s,r.index)));let e=r[1];const l=r[2],d=e.replace(/\./g,"").replace(",","."),c=parseFloat(d),u=(d.split(".")[1]||[]).length,h=document.createElement("span");h.className="number-counter",h.textContent=e+l,a.push(h),o(h,c,u,l,t),s=i.lastIndex}if(s<n.length&&a.push(document.createTextNode(n.substring(s))),a.length>0){const t=e.parentNode;a.forEach((n=>{t.insertBefore(n,e)})),t.removeChild(e)}}))}(e.target),t.unobserve(e.target))}))}),{rootMargin:"0px",threshold:.1});document.querySelectorAll(".count").forEach((e=>{i.observe(e)})),document.addEventListener("DOMContentLoaded",(function(){function e(t){const n=t.target,o=n.querySelector('input[name="REQUEST_TOKEN"]');if(!o)return!0;t.preventDefault();const i=n.querySelector('button[type="submit"], input[type="submit"]');return i&&(i.disabled=!0),function(e,t){const n=e.value;if(!n||n.length<10)return console.warn("[TokenRefresh] Token fehlt oder ist zu kurz, fahre mit Submit fort"),void t();fetch(window.location.href,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest","Cache-Control":"no-cache"}}).then((e=>e.text())).then((o=>{const i=(new DOMParser).parseFromString(o,"text/html").querySelector('input[name="REQUEST_TOKEN"]');if(i&&i.value&&i.value!==n){e.value=i.value;const t=e.closest("form");t&&t.querySelectorAll('input[name="REQUEST_TOKEN"]').forEach((t=>{t!==e&&(t.value=i.value)}))}t()})).catch((e=>{t()}))}(o,(()=>{setTimeout((()=>{i&&(i.disabled=!1),n.removeEventListener("submit",e),n.submit()}),300)})),!1}document.querySelectorAll("form").forEach((t=>{const n=t.querySelector('input[name="REQUEST_TOKEN"]'),o="park-form"===t.id||t.closest(".mod_caeli_area_check");n&&!o&&(t.addEventListener("submit",e),t.dataset.tokenRefreshEnabled="theme")}));new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{if(t.nodeType===Node.ELEMENT_NODE){("FORM"===t.tagName?[t]:Array.from(t.querySelectorAll?t.querySelectorAll("form"):[])).forEach((t=>{const n=t.querySelector('input[name="REQUEST_TOKEN"]'),o="park-form"===t.id||t.closest(".mod_caeli_area_check");!n||o||t.dataset.tokenRefreshEnabled||(t.addEventListener("submit",e),t.dataset.tokenRefreshEnabled="theme")}))}}))}))})).observe(document.body,{childList:!0,subtree:!0})}))},737:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCSSVariableValue=i,t.scrollToTop=l;var o=n(21);function i(e){const t=getComputedStyle(document.documentElement).getPropertyValue(e).trim(),n=parseFloat(t);return isNaN(n)?100:n}function r(){const e=window.location.hash;if(e){const t=e.substring(1);requestAnimationFrame((()=>{s(t)}))}}function s(e){const t=document.getElementById(e);if(!t)return;const n=i("--bs-scrolloffset"),r=window.pageYOffset,s=document.querySelectorAll(".lazy"),a=Array.from(s).filter((e=>{const n=e.getBoundingClientRect().top+window.pageYOffset,o=t.getBoundingClientRect().top+window.pageYOffset;return n>r&&n<=o&&!e.complete})),l=()=>{const i=t.getBoundingClientRect().top+window.pageYOffset-n;window.scrollTo({top:i,behavior:"smooth"}),setTimeout((()=>{const i=t.getBoundingClientRect();Math.abs(i.top-n)>5&&window.scrollTo({top:window.pageYOffset+i.top-n,behavior:"auto"}),(0,o.changeAnchorLinks)();const r=`#${e}`;window.location.hash!==r&&(window.removeEventListener("hashchange",d),window.location.hash=r,requestAnimationFrame((()=>{window.addEventListener("hashchange",d)})))}),400)};if(a.length>0){let e=0;a.forEach((t=>{if(t.complete)return e++,void(e===a.length&&requestAnimationFrame(l));const n=()=>{t.removeEventListener("load",n),t.removeEventListener("error",n),e++,e===a.length&&requestAnimationFrame(l)};t.addEventListener("load",n),t.addEventListener("error",n)}))}else requestAnimationFrame(l)}function a(e){e.preventDefault();s(this.getAttribute("href").split("#")[1])}function l(){const e=document.querySelectorAll(".scrollToTop, .BodyScrollToTop, .scrolltop");let t;e.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}))})),window.addEventListener("scroll",(function(){t&&clearTimeout(t),t=setTimeout((()=>{window.pageYOffset>50?e.forEach((e=>e.classList.add("visible"))):e.forEach((e=>e.classList.remove("visible")))}),100)}))}(()=>{if(window.location.hash){const e=()=>{window.removeEventListener("load",e),r()};"complete"===document.readyState?r():window.addEventListener("load",e)}})(),document.addEventListener("DOMContentLoaded",(()=>{l(),document.querySelectorAll('a[href^="#"]:not(.reset-cookies,.navActivator,[href*="Nav"],.venobox,.mm-btn)').forEach((e=>{e.addEventListener("click",a)})),window.addEventListener("scroll",o.changeAnchorLinks),(0,o.changeAnchorLinks)()}));const d=e=>{const t=window.location.hash;if(t){const e=t.substring(1);requestAnimationFrame((()=>{s(e)}))}};window.addEventListener("hashchange",d)},947:(e,t)=>{}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n(561),n(460),n(737),n(65),n(21),n(507),n(270),n(947),n(397),n(611),n(571);n(157)})();