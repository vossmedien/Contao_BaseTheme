(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".services-overview"),t=(e,t)=>{const i=t.querySelectorAll(".service-content"),o=t.querySelectorAll(".service-link"),s=t.querySelectorAll(".mobile-service-button"),c=t.querySelector(".mobile-services-nav"),n=t.querySelector(".mobile-nav-arrow.prev"),r=t.querySelector(".mobile-nav-arrow.next"),l=i.length,a=parseInt(e);if(isNaN(a)||a<0||a>=l)return void console.error("Invalid index for activation:",e);i.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),s.forEach(e=>e.classList.remove("active"));const d=t.querySelector(`.service-content[data-index="${a}"]`);d&&d.classList.add("active");const h=t.querySelector(`.service-item[data-index="${a}"] .service-link`);h&&h.classList.add("active");const v=t.querySelector(`.mobile-service-button[data-index="${a}"]`);if(v&&c){v.classList.add("active");const e=c.getBoundingClientRect(),t=v.getBoundingClientRect();(t.left<e.left||t.right>e.right)&&c.scrollTo({left:c.scrollLeft+t.left-e.left-e.width/2+t.width/2,behavior:"smooth"})}n&&r&&(n.disabled=0===a,n.classList.toggle("disabled",0===a),r.disabled=a===l-1,r.classList.toggle("disabled",a===l-1))},i=e=>{if(window.matchMedia("(max-width: 767.98px)").matches){const t=e.querySelector(".service-content-container"),i=e.querySelector(".mobile-nav-arrow.prev"),o=e.querySelector(".mobile-nav-arrow.next"),s=e.querySelector(".mobile-services-nav-wrapper");if(t&&i&&o&&s){const e=t.getBoundingClientRect();console.log("Arrow Positioning: Measured container height:",e.height);e.top,e.height}else console.warn("Elements for arrow positioning not found")}else{const t=e.querySelector(".mobile-nav-arrow.prev"),i=e.querySelector(".mobile-nav-arrow.next");t&&(t.style.top="",t.style.transform=""),i&&(i.style.top="",i.style.transform="")}},o=e=>{const t=e.querySelector(".service-content-container"),i=e.querySelectorAll(".service-content");if(t&&0!==i.length)if(window.matchMedia("(max-width: 767.98px)").matches){let e=0;const o=[];if(i.forEach((e,t)=>{o[t]={wasActive:e.classList.contains("active"),position:e.style.position,visibility:e.style.visibility,opacity:e.style.opacity,zIndex:e.style.zIndex},e.classList.add("active"),e.style.position="relative",e.style.visibility="visible",e.style.opacity="1",e.style.zIndex="1"}),t.offsetHeight,i.forEach((t,i)=>{let o=0,s=[];const c=t.querySelectorAll("h1, h2, h3, h4, h5, h6, .ce--headline");let n=0;c.forEach(e=>{n+=e.offsetHeight}),n>0&&(o+=n,s.push(`headlines: ${n}px`));const r=t.querySelector(".service-text");if(r){const e=r.offsetHeight;o+=e,s.push(`text: ${e}px`)}const l=t.querySelector(".service-image");if(l){const e=l.offsetHeight;o+=e,s.push(`image: ${e}px`)}const a=t.querySelector(".service-buttons");if(a){const e=a.offsetHeight;o+=e,s.push(`buttons: ${e}px`)}const d=[c.length>0?1:0,r?1:0,l?1:0,a?1:0].reduce((e,t)=>e+t,0);let h=0;d>1&&(h=16*(d-1),o+=h,s.push(`spacing: ${h}px`)),e=Math.max(e,o),console.log(`Content ${i}: ${o}px total [${s.join(", ")}]`)}),i.forEach((e,t)=>{const i=o[t];i.wasActive||e.classList.remove("active"),e.style.position=i.position,e.style.visibility=i.visibility,e.style.opacity=i.opacity,e.style.zIndex=i.zIndex}),e>0){const i=Math.floor(.6*e);t.style.height=`${i}px`,console.log(`Mobile: Container height set to: ${i}px (90% of max ${e}px)`)}else t.style.height=""}else t.style.height=""};e.forEach(e=>{const s=e.querySelectorAll(".service-item"),c=e.querySelectorAll(".mobile-service-button"),n=e.querySelector(".mobile-nav-arrow.prev"),r=e.querySelector(".mobile-nav-arrow.next"),l=e.querySelector(".service-content-container"),a=e.hasAttribute("data-hover-disabled"),d=a?"click":"mouseenter";let h,v=0;t(0,e),o(e),setTimeout(()=>i(e),50);window.addEventListener("resize",()=>{clearTimeout(h),h=setTimeout(()=>{o(e),i(e);const s=e.querySelector(".mobile-service-button.active");s&&window.matchMedia("(max-width: 767.98px)").matches&&t(parseInt(s.dataset.index),e)},150)}),s.forEach(i=>{const o=i.querySelector(".service-link");o&&o.addEventListener(d,function(i){const o=this.closest(".service-item");if(!o)return;a&&"click"===i.type&&"A"===this.tagName&&this.getAttribute("href")&&i.preventDefault();const s=o.getAttribute("data-index");v=parseInt(s),t(v,e)})}),c.forEach(i=>{i.addEventListener("click",function(){const i=this.getAttribute("data-index");v=parseInt(i),t(v,e)})});const u=i=>{const o=e.querySelector(".mobile-service-button.active");let s=o?parseInt(o.dataset.index):0,n=s+i;const r=c.length;n=Math.max(0,Math.min(n,r-1)),n!==s&&(v=n,t(n,e))};n&&n.addEventListener("click",()=>u(-1)),r&&r.addEventListener("click",()=>u(1));let y=0,m=0;l&&(l.addEventListener("touchstart",e=>{1===e.touches.length&&(y=e.touches[0].clientX)},{passive:!0}),l.addEventListener("touchmove",e=>{1===e.touches.length&&(m=e.touches[0].clientX)},{passive:!0}),l.addEventListener("touchend",()=>{if(window.matchMedia("(max-width: 767.98px)").matches){const e=y-m;Math.abs(e)>50&&u(e>0?1:-1)}y=0,m=0}))})})})();