(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".filter-bubbles").forEach((e,t)=>{let l=e.closest(".content--element");for(;l&&!l.nextElementSibling?.querySelector(".ce_rsce_videogrid");)l=l.nextElementSibling;const s=l?.nextElementSibling?.querySelector(".ce_rsce_videogrid");if(!s)return;const i=e.querySelectorAll(".btn"),n=e.closest(".container").querySelector(".filter-select"),r=e.querySelector('[data-filter="all"]');let a=new Set;const o=()=>window.innerWidth<992;function c(e){s.querySelectorAll(".video-item").forEach(t=>{const l=t.closest("[data-schwerpunkte]"),s=l?.dataset.schwerpunkte?.split(" ")||[],i=0===e.size||s.some(t=>e.has(t));o()?t.classList.toggle("d-none",!i):t.classList.toggle("filtered-hidden",!i)}),o()||s.querySelectorAll(".scroll-wrapper").forEach(e=>{const t=e.querySelectorAll(".video-item:not(.filtered-hidden)");e.classList.toggle("empty-column",0===t.length)})}let d;i.forEach(e=>{e.addEventListener("click",function(){const e=this.dataset.filter;"all"===e?(a.clear(),i.forEach(e=>{e.classList.remove("btn-primary"),e.classList.add("btn-outline-white")}),r.classList.remove("btn-outline-white"),r.classList.add("btn-primary"),n&&(n.value="all")):(this.classList.contains("btn-outline-white")?(this.classList.remove("btn-outline-white"),this.classList.add("btn-primary"),a.add(e)):(this.classList.remove("btn-primary"),this.classList.add("btn-outline-white"),a.delete(e)),0===a.size?(r.classList.remove("btn-outline-white"),r.classList.add("btn-primary"),n&&(n.value="all")):(r.classList.remove("btn-primary"),r.classList.add("btn-outline-white"),n&&1===a.size&&(n.value=Array.from(a)[0]))),c(a)})}),n&&n.addEventListener("change",function(){const e=this.value;a.clear(),"all"!==e&&a.add(e),i.forEach(t=>{const l=t.dataset.filter;"all"===l?(t.classList.toggle("btn-primary","all"===e),t.classList.toggle("btn-outline-white","all"!==e)):(t.classList.toggle("btn-primary",l===e),t.classList.toggle("btn-outline-white",l!==e))}),c(a)}),window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{c(a)},250)})})})})();