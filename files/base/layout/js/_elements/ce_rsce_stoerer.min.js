(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e,t,s,o){const i=`__${t}_handler__`;e[i]&&e.removeEventListener(t,e[i],o),e.addEventListener(t,s,o),e[i]=s}function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;if("string"!=typeof e)return parseFloat(e)||0;const s=parseFloat(e);return isNaN(s)?0:e.endsWith("px")?s:e.endsWith("rem")?s*parseFloat(getComputedStyle(document.documentElement).fontSize):e.endsWith("em")?s*parseFloat(getComputedStyle(t).fontSize):e.endsWith("vh")?s*window.innerHeight/100:e.endsWith("vw")?s*window.innerWidth/100:s}function s(e){const t=e.querySelector(".stoerer--content");if(!t)return;const s=t.style.transition;t.style.transition="none",t.style.maxWidth="max-content";const o=t.scrollWidth;t.style.maxWidth="",t.style.transition=s,requestAnimationFrame((()=>{t.style.setProperty("--stoerer-content-max-width",o+"px")}))}function o(e){const t=e.querySelector(".stoerer--content");t&&t.style.removeProperty("--stoerer-content-max-width")}function i(){document.querySelectorAll(".ce--stoerer.clicked").forEach((e=>e.classList.remove("clicked")))}function r(){const i=document.querySelectorAll(".ce--stoerer.is-expandable"),r=document.querySelectorAll(".content--element.ce_rsce_stoerer");i.forEach((t=>{const i=t.querySelector(".stoerer-trigger");i&&!i.dataset.stoererClickListenerAttached&&(e(i,"click",(e=>{t.classList.add("is-interacting"),t.classList.contains("is-expanded")?(t.classList.remove("is-expanded"),t.classList.remove("is-clicked-active"),o(t)):(t.classList.add("is-expanded"),t.classList.add("is-clicked-active"),s(t)),setTimeout((()=>{t.classList.remove("is-interacting")}),50)})),i.dataset.stoererListenerAttached="true"),t.dataset.stoererHoverListenerAttached||(e(t,"mouseenter",(()=>{t.classList.contains("is-interacting")||t.classList.contains("is-clicked-active")||(t.classList.add("is-expanded"),s(t))})),e(t,"mouseleave",(()=>{t.classList.contains("is-interacting")||t.classList.contains("is-clicked-active")||(t.classList.remove("is-expanded"),o(t))})),t.dataset.stoererHoverListenerAttached="true")})),document.querySelectorAll(".is-fixed.content--element.ce_rsce_stoerer").forEach((e=>{const s=Array.from(e.querySelectorAll(":scope > .ce--stoerer.is-expandable")),o=s.length;if(o<=1)return void(1===s.length&&(s[0].style.zIndex=""));let i=t("0.75rem");const r=getComputedStyle(e).getPropertyValue("--stoerer-vertical-gap")||"0.75rem";i=t(r.trim(),e),s.sort(((e,s)=>{const o=e=>{if(void 0===e.dataset.initialTopPx){const s=e.style.top||getComputedStyle(e).top;e.dataset.originalStyleTop||(e.dataset.originalStyleTop=s),e.dataset.initialTopPx=t(s,e)}return parseFloat(e.dataset.initialTopPx)};return o(e)-o(s)}));let n="0px",c=0;s.forEach(((e,t)=>{if(e.style.zIndex=o-t,0===t){e.dataset.originalStyleTop||(e.dataset.originalStyleTop=e.style.top||getComputedStyle(e).top||"0px"),n=e.dataset.originalStyleTop,e.style.top=n;const t=e.querySelector(".stoerer-trigger");c=t?t.offsetHeight:0}else e.style.top=`calc(${n} + ${c}px + ${i}px)`}))})),document.querySelectorAll('.ce--stoerer[style*="left:"]:not([style*="left: auto"]), .ce--stoerer[style*="right:"]:not([style*="right: auto"])').forEach((e=>{e.classList.remove("is-flush-left","is-flush-right");const t=e.getBoundingClientRect(),s=window.innerWidth;t.left<=2?e.classList.add("is-flush-left"):t.right>=s-2&&e.classList.add("is-flush-right")})),r.forEach((e=>e.classList.add("js-stoerer-ready")))}let n;r(),window.addEventListener("resize",(()=>{clearTimeout(n),n=setTimeout(r,250)})),e(document,"click",(function(e){const t=e.target.closest(".ce--stoerer.is-expandable");document.querySelectorAll(".ce--stoerer.is-expandable.is-expanded").forEach((e=>{t&&t===e||(e.classList.remove("is-expanded"),e.classList.remove("is-clicked-active"),o(e))})),window.innerWidth<768&&!e.target.closest(".ce--stoerer.clicked")&&i()})),document.body.addEventListener("stoererAdded",(function(e){console.log("Event stoererAdded empfangen."),requestAnimationFrame((()=>{r()}))}))}))})();