services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Registriere alle Dienste aus dem Bundle
    CaeliWind\CaeliAreaCheckBundle\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Resources/'
            - '../src/Tests/'

    # FrontendModule Controller
    CaeliWind\CaeliAreaCheckBundle\Controller\FrontendModule\AreaCheckMapController:
        arguments:
            $framework: '@contao.framework'
            $logger: '@monolog.logger.contao'

    CaeliWind\CaeliAreaCheckBundle\Controller\FrontendModule\AreaCheckResultController:
        arguments:
            $framework: '@contao.framework'
            $logger: '@monolog.logger.contao'

    # FormDataListener f√ºr Formular-Hooks
    CaeliWind\CaeliAreaCheckBundle\EventListener\FormDataListener:
        autowire: false
        autoconfigure: false
        arguments:
            - '@monolog.logger.contao'
            - 
                - 'auto_flaechencheckNotSuccessEN'
                - 'auto_flaechencheckNotSuccessDE'
                - 'auto_flaechencheckSuccessEN'
                - 'auto_flaechencheckSuccessDE'
                - 'flaechencheckNotSuccessEN'
                - 'flaechencheckNotSuccessDE'
                - 'flaechencheckSuccessEN'
                - 'flaechencheckSuccessDE'
            - 
                lastname_field: 'lastname'
                firstname_field: 'firstname'
                phone_field: 'phone'
                email_field: 'email'
        tags:
            - { name: contao.hook, hook: processFormData, method: onProcessFormData }
            - { name: contao.hook, hook: loadFormField, method: onLoadFormField }

    CaeliWind\CaeliAreaCheckBundle\Controller\:
        resource: '../src/Controller/'
        tags: ['controller.service_arguments']

    # EventListener werden manuell konfiguriert, nicht automatisch
    # CaeliWind\CaeliAreaCheckBundle\EventListener\:
    #     resource: '../src/EventListener/'

    # Map Image Generator Service
    CaeliWind\CaeliAreaCheckBundle\Service\MapImageGeneratorService:
        arguments:
            $logger: '@logger'
            $projectDir: '%kernel.project_dir%'
        tags:
            - { name: 'monolog.logger', channel: 'caeli_area_check' } 