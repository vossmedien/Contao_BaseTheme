<div class="col" data-animation="animate__fadeIn">
    <article class="auction-item {{ class }}" id="{{ cssID }}">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title h5 mb-0">
                    <span class="d-block">{{ 'auction_listing.card.title_prefix'|trans }}</span>
                    <span class="fw-bold">{{ raw_data.state }}</span>
                </h3>
            </div>


            <div class="card-img">
                {# Bild #}
                {% set image_path = auction.blurred_picture_path|default(auction.picture_path|default(null)) %}
                {% if image_path %}
                    <div class="card-img-top auction-image-wrapper">
                        <a id="auction_image_{{ auction.id }}" href="{{ detailPageUrl }}/{{ auction.id }}" class="auction_image_link">
                            <img src="{{ image_path }}" width="500" height="322"
                                 alt="{{ 'auction_listing.card.image_alt_prefix'|trans }} {{ auction.id }}" class="auction-image img-fluid">
                            {% if raw_data.countDown is defined and raw_data.countDown > 0 %}
                                {% set days_countdown = (raw_data.countDown / 86400)|round(0, 'ceil') %}
                                {% if days_countdown > 0 %}
                                    {% set countdown_text = raw_data.status == 'STARTED' ? 'auction_listing.card.countdown_end_prefix' : 'auction_listing.card.countdown_prefix' %}
                                    <span class="badge bg-primary text-secondary countdown-badge">{{ countdown_text|trans }} {{ days_countdown }} {{ 'auction_listing.card.countdown_suffix_days'|trans }}</span>
                                {% endif %}
                                {% elseif raw_data.status == "OPEN_FOR_DIRECT_AWARDING" %}
                                <span class="badge bg-primary text-secondary countdown-badge">{{ 'auction_listing.card.status.open_for_direct_awarding'|trans }}</span>
                            {% endif %}
                            <span class="btn btn-secondary no-button btn-sm preview-btn">{{ 'auction_listing.card.preview_button'|trans }}</span>
                        </a>
                    </div>
                {% endif %}
            </div>
            <div class="card-body small">
                <div class="auction-details-section">
                    <span class="auction-detail-label">
                        {{ 'auction_listing.card.details.power'|trans }}
                    </span>
                    <strong class="auction-detail-value">
                        {% if app.request.locale == 'en' %}
                            {{ raw_data.power|number_format(1, '.', ',') }} {{ 'auction_listing.card.unit.mw'|trans }}
                        {% else %}
                            {{ raw_data.power|number_format(1, ',', '.') }} {{ 'auction_listing.card.unit.mw'|trans }}
                        {% endif %}
                    </strong>

                    <span class="auction-detail-label">
                        {{ 'auction_listing.card.details.area_size'|trans }}
                    </span>
                    <strong class="auction-detail-value">
                        {% if app.request.locale == 'en' %}
                            {{ raw_data.areaSize|number_format(1, '.', ',') }} {{ 'auction_listing.card.unit.ha'|trans }}
                        {% else %}
                            {{ raw_data.areaSize|number_format(1, ',', '.') }} {{ 'auction_listing.card.unit.ha'|trans }}
                        {% endif %}
                    </strong>

                    <span class="auction-detail-label">
                        {{ 'auction_listing.card.details.full_usage_hours'|trans }}
                    </span>
                    <strong class="auction-detail-value">
                        {% if app.request.locale == 'en' %}
                            {{ raw_data.fullUsageHours|number_format(0, '.', ',') }} {{ 'auction_listing.card.unit.h_per_a'|trans }}
                        {% else %}
                            {{ raw_data.fullUsageHours|number_format(0, ',', '.') }} {{ 'auction_listing.card.unit.h_per_a'|trans }}
                        {% endif %}
                    </strong>

                    <span class="auction-detail-label">
                        {{ 'auction_listing.card.details.irr_before_rent'|trans }}
                    </span>
                    <strong class="auction-detail-value">
                        {% if app.request.locale == 'en' %}
                            {{ raw_data.internalRateOfReturnBeforeRent|number_format(1, '.', ',') }} {{ 'auction_listing.card.unit.percent'|trans }}
                        {% else %}
                            {{ raw_data.internalRateOfReturnBeforeRent|number_format(1, ',', '.') }} {{ 'auction_listing.card.unit.percent'|trans }}
                        {% endif %}
                    </strong>

                    <span class="auction-detail-label">
                        {{ 'auction_listing.card.details.availability'|trans }}
                    </span>
                    <strong class="auction-detail-value">
                        {% if raw_data.status == 'STARTED' or raw_data.status == 'OPEN_FOR_DIRECT_AWARDING' %}
                            {{ 'marktplatz.as_of_now'|trans }}
                        {% else %}
                            {{ 'auction_listing.card.details.availability_prefix'|trans }} {{ raw_data.availableFrom }}
                        {% endif %}
                    </strong>
                </div>
            </div>
            <div class="card-footer bg-secondary text-primary small">
                {{ 'auction_listing.card.footer_notice'|trans }}
            </div>
        </div>
        <div class="more-btn text-end">
          <a id="auction_more_{{ auction.id }}" href="{{ detailPageUrl }}/{{ auction.id }}" class="auction_more_btn btn {{ btnClass is defined ? btnClass : 'btn-outline-currentColor' }} btn-sm with-arrow">
    {{ 'auction_listing.card.more_button'|trans }}
</a>
        </div>
    </article>
</div>
