{# Twig Template für das Auction Detail Modul #}

{% if auction is not defined %}
    {% set auction = [] %}
{% endif %}

{% set auction_var = auction %}
{% set auction = [] %}

{# Einheitliche Datenstruktur erstellen #}
{% set raw_data = auction_var._raw_data|default({}) %}
<div class="container">
    <div class="auction-detail">
        {% if auction_var|default %}
            <article class="auction-item card">
                {# Kompletter Datensatz als JSON #}
                <div class="card-body">
                    <div class="auction-raw-data">
                        <h2 class="h4">{{ 'Rohdaten'|trans }}</h2>
                        <pre class="bg-light p-3 border rounded" style="max-height: 500px; overflow: auto;">
                            {{ raw_data|json_encode(constant('JSON_PRETTY_PRINT')) }}
                        </pre>
                    </div>
                </div>

                <div class="card-footer">
                    <a href="{{ listingPage ? listingPage.getFrontendUrl() : '#' }}" class="btn btn-secondary">
                        <i class="bi bi-arrow-left"></i> {{ 'Zurück zur Übersicht'|trans }}
                    </a>
                </div>
            </article>
        {% elseif error|default %}
            <div class="alert alert-danger">
                <p>{{ error }}</p>
            </div>
        {% else %}
            <div class="alert alert-info">
                <p>{{ 'Auktion nicht gefunden'|trans }}</p>
            </div>
        {% endif %}
    </div>
</div>
